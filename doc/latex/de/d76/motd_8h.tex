\hypertarget{motd_8h}{}\doxysection{src/motd.h File Reference}
\label{motd_8h}\index{src/motd.h@{src/motd.h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/statvfs.\+h$>$}\newline
{\ttfamily \#include $<$sys/utsname.\+h$>$}\newline
{\ttfamily \#include $<$sys/wait.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structfsinfo}{fsinfo}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{motd_8h_a38a196d020f78f178a33927d741a03f2}{STR\+\_\+\+SIZE}}~80
\begin{DoxyCompactList}\small\item\em error numbers \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{motd_8h_a403cf3149c084cea115b85c90721039a}{BSIZE}}~6
\begin{DoxyCompactList}\small\item\em 99 999 (10$^\wedge$5-\/1) packages in total \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{motd_8h_a0c731a113a980f3be807901e24869973}{DISTRO}}~40
\begin{DoxyCompactList}\small\item\em max line length of /etc/lsb-\/release \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{motd_8h_af94cfb03461685fead1fe045d5c96f01}{LINE}}~192
\begin{DoxyCompactList}\small\item\em max line length of /proc/mounts \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{motd_8h_a8deb0beccea721b35bdb1b4f7264fe75}{COLOR\+\_\+\+MAGENTA}}~\char`\"{}\textbackslash{}033\mbox{[}38;5;197m\char`\"{}
\begin{DoxyCompactList}\small\item\em Color Magenta. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{motd_8h_a17f760256046df23dd0ab46602f04d02}{COLOR\+\_\+\+RESET}}~\char`\"{}\textbackslash{}033\mbox{[}0m\char`\"{}
\item 
\#define \mbox{\hyperlink{motd_8h_a6576b68bbab28835469d28aeb7369d72}{MCHECK}}(ptr)
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structfsinfo}{fsinfo}} \mbox{\hyperlink{motd_8h_adaef603f25def117dea72ea009c1db11}{fsinfo}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{motd_8h_a979e020415f037fa346b2373956ea5b9}{greeting}} (void)
\begin{DoxyCompactList}\small\item\em prints the datetime and greeting message \end{DoxyCompactList}\item 
void \mbox{\hyperlink{motd_8h_a08dfaf5258f562e0cb83bff43062f0c8}{sysinfo}} (void)
\begin{DoxyCompactList}\small\item\em prints system informations\+: kernel, distro, packages number \end{DoxyCompactList}\item 
void \mbox{\hyperlink{motd_8h_a053f32dfed317237e6c411798a121d68}{fsuse}} (void)
\begin{DoxyCompactList}\small\item\em gets and prints filesystem usage \end{DoxyCompactList}\item 
void \mbox{\hyperlink{motd_8h_a2d91e0c6022ba9f3464fb0eed39cb3fb}{goodbye}} (void)
\begin{DoxyCompactList}\small\item\em goodbye message\+: wiki remainder + random quote from fortune \end{DoxyCompactList}\item 
void \mbox{\hyperlink{motd_8h_aaa7a77cd4525b7b9d5d710590618c486}{get\+\_\+datetime}} (char $\ast$time\+\_\+string)
\begin{DoxyCompactList}\small\item\em Get the datetime of the system. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{motd_8h_ab9ee685a150564fe34b267a67b2a87c0}{get\+\_\+distro}} (void)
\begin{DoxyCompactList}\small\item\em Get the distro name. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structfsinfo}{fsinfo}} \mbox{\hyperlink{motd_8h_a396877083966e1c1a3306f7c6596d56e}{get\+\_\+fs\+\_\+info}} (const char $\ast$path)
\begin{DoxyCompactList}\small\item\em Get filesystem informations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{motd_8h_ad89709f060162dc3cd7794569b793abb}{printfs}} (const char $\ast$name, \mbox{\hyperlink{structfsinfo}{fsinfo}} fs)
\begin{DoxyCompactList}\small\item\em Helps printing filesystem usage. \end{DoxyCompactList}\item 
char $\ast$$\ast$ \mbox{\hyperlink{motd_8h_a078b2006c2d06f21ae3c3789c19414eb}{get\+\_\+fs\+\_\+mountpoint}} (void)
\begin{DoxyCompactList}\small\item\em Get the filesystems mountpoint. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{motd_8h_af3ec3eb6fda5a37e633f809889e2305f}{pipe\+\_\+of}} (const char op1\mbox{[}$\,$\mbox{]}, const char op2\mbox{[}$\,$\mbox{]}, int buffer\+\_\+size)
\begin{DoxyCompactList}\small\item\em emulates the UNIX pipe redirecting the op1 stdout to op2 stdin \end{DoxyCompactList}\item 
void \mbox{\hyperlink{motd_8h_a5ec1f3f552240b1d2b7da61d5a04beab}{strsplit}} (char $\ast$str, char $\ast$str\+\_\+arr\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em split the given string into substrings (using space as delimiter) \end{DoxyCompactList}\item 
int \mbox{\hyperlink{motd_8h_aa4284d4514b961f23aa35da9b8eaee2c}{get\+\_\+pkgs\+\_\+num}} (void)
\begin{DoxyCompactList}\small\item\em Get the pkgs num using alpm library. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyAuthor}{Author}
lotation (\href{mailto:xlapsiu@gmail.com}{\texttt{ xlapsiu@gmail.\+com}}) 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2021-\/11-\/02
\end{DoxyDate}
\hypertarget{pipe_8c_LICENSE}{}\doxysubsection{LICENSE}\label{pipe_8c_LICENSE}
This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details at \href{https://www.gnu.org/copyleft/gpl.html}{\texttt{ https\+://www.\+gnu.\+org/copyleft/gpl.\+html}}\hypertarget{pipe_8c_DESCRIPTION}{}\doxysubsection{DESCRIPTION}\label{pipe_8c_DESCRIPTION}
This file has motd functions declaration 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{motd_8h_a403cf3149c084cea115b85c90721039a}\label{motd_8h_a403cf3149c084cea115b85c90721039a}} 
\index{motd.h@{motd.h}!BSIZE@{BSIZE}}
\index{BSIZE@{BSIZE}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{BSIZE}{BSIZE}}
{\footnotesize\ttfamily \#define BSIZE~6}



99 999 (10$^\wedge$5-\/1) packages in total 

\mbox{\Hypertarget{motd_8h_a8deb0beccea721b35bdb1b4f7264fe75}\label{motd_8h_a8deb0beccea721b35bdb1b4f7264fe75}} 
\index{motd.h@{motd.h}!COLOR\_MAGENTA@{COLOR\_MAGENTA}}
\index{COLOR\_MAGENTA@{COLOR\_MAGENTA}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{COLOR\_MAGENTA}{COLOR\_MAGENTA}}
{\footnotesize\ttfamily \#define COLOR\+\_\+\+MAGENTA~\char`\"{}\textbackslash{}033\mbox{[}38;5;197m\char`\"{}}



Color Magenta. 

\mbox{\Hypertarget{motd_8h_a17f760256046df23dd0ab46602f04d02}\label{motd_8h_a17f760256046df23dd0ab46602f04d02}} 
\index{motd.h@{motd.h}!COLOR\_RESET@{COLOR\_RESET}}
\index{COLOR\_RESET@{COLOR\_RESET}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{COLOR\_RESET}{COLOR\_RESET}}
{\footnotesize\ttfamily \#define COLOR\+\_\+\+RESET~\char`\"{}\textbackslash{}033\mbox{[}0m\char`\"{}}

\mbox{\Hypertarget{motd_8h_a0c731a113a980f3be807901e24869973}\label{motd_8h_a0c731a113a980f3be807901e24869973}} 
\index{motd.h@{motd.h}!DISTRO@{DISTRO}}
\index{DISTRO@{DISTRO}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{DISTRO}{DISTRO}}
{\footnotesize\ttfamily \#define DISTRO~40}



max line length of /etc/lsb-\/release 

\mbox{\Hypertarget{motd_8h_af94cfb03461685fead1fe045d5c96f01}\label{motd_8h_af94cfb03461685fead1fe045d5c96f01}} 
\index{motd.h@{motd.h}!LINE@{LINE}}
\index{LINE@{LINE}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{LINE}{LINE}}
{\footnotesize\ttfamily \#define LINE~192}



max line length of /proc/mounts 

\mbox{\Hypertarget{motd_8h_a6576b68bbab28835469d28aeb7369d72}\label{motd_8h_a6576b68bbab28835469d28aeb7369d72}} 
\index{motd.h@{motd.h}!MCHECK@{MCHECK}}
\index{MCHECK@{MCHECK}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{MCHECK}{MCHECK}}
{\footnotesize\ttfamily \#define MCHECK(\begin{DoxyParamCaption}\item[{}]{ptr }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{                        \textcolor{keywordflow}{if} (ptr == NULL) \{ \(\backslash\)}
\DoxyCodeLine{                        fprintf(stderr, \textcolor{stringliteral}{"{}Could not allocate memory.\(\backslash\)n"{}}); \(\backslash\)}
\DoxyCodeLine{                        exit(EXIT\_FAILURE); \(\backslash\)}
\DoxyCodeLine{                    \} \(\backslash\)}

\end{DoxyCode}
\mbox{\Hypertarget{motd_8h_a38a196d020f78f178a33927d741a03f2}\label{motd_8h_a38a196d020f78f178a33927d741a03f2}} 
\index{motd.h@{motd.h}!STR\_SIZE@{STR\_SIZE}}
\index{STR\_SIZE@{STR\_SIZE}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{STR\_SIZE}{STR\_SIZE}}
{\footnotesize\ttfamily \#define STR\+\_\+\+SIZE~80}



error numbers 

basic I/O malloc, free true, false, bool type strings utils time utilities POSIX api filesystem stats system relese, version, etc wait, waitpid length of time\+\_\+string 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{motd_8h_adaef603f25def117dea72ea009c1db11}\label{motd_8h_adaef603f25def117dea72ea009c1db11}} 
\index{motd.h@{motd.h}!fsinfo@{fsinfo}}
\index{fsinfo@{fsinfo}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{fsinfo}{fsinfo}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structfsinfo}{fsinfo}} \mbox{\hyperlink{structfsinfo}{fsinfo}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{motd_8h_a053f32dfed317237e6c411798a121d68}\label{motd_8h_a053f32dfed317237e6c411798a121d68}} 
\index{motd.h@{motd.h}!fsuse@{fsuse}}
\index{fsuse@{fsuse}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{fsuse()}{fsuse()}}
{\footnotesize\ttfamily void fsuse (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



gets and prints filesystem usage 

\mbox{\Hypertarget{motd_8h_aaa7a77cd4525b7b9d5d710590618c486}\label{motd_8h_aaa7a77cd4525b7b9d5d710590618c486}} 
\index{motd.h@{motd.h}!get\_datetime@{get\_datetime}}
\index{get\_datetime@{get\_datetime}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{get\_datetime()}{get\_datetime()}}
{\footnotesize\ttfamily void get\+\_\+datetime (\begin{DoxyParamCaption}\item[{char $\ast$}]{time\+\_\+string }\end{DoxyParamCaption})}



Get the datetime of the system. 


\begin{DoxyParams}{Parameters}
{\em time\+\_\+string} & formatted string with datetime to display in the first row \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{motd_8h_ab9ee685a150564fe34b267a67b2a87c0}\label{motd_8h_ab9ee685a150564fe34b267a67b2a87c0}} 
\index{motd.h@{motd.h}!get\_distro@{get\_distro}}
\index{get\_distro@{get\_distro}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{get\_distro()}{get\_distro()}}
{\footnotesize\ttfamily char $\ast$ get\+\_\+distro (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the distro name. 

\begin{DoxyReturn}{Returns}
char$\ast$ name of the distro 
\end{DoxyReturn}
\mbox{\Hypertarget{motd_8h_a396877083966e1c1a3306f7c6596d56e}\label{motd_8h_a396877083966e1c1a3306f7c6596d56e}} 
\index{motd.h@{motd.h}!get\_fs\_info@{get\_fs\_info}}
\index{get\_fs\_info@{get\_fs\_info}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{get\_fs\_info()}{get\_fs\_info()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structfsinfo}{fsinfo}} get\+\_\+fs\+\_\+info (\begin{DoxyParamCaption}\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}



Get filesystem informations. 


\begin{DoxyParams}{Parameters}
{\em path} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
fsinfo 
\end{DoxyReturn}
\mbox{\Hypertarget{motd_8h_a078b2006c2d06f21ae3c3789c19414eb}\label{motd_8h_a078b2006c2d06f21ae3c3789c19414eb}} 
\index{motd.h@{motd.h}!get\_fs\_mountpoint@{get\_fs\_mountpoint}}
\index{get\_fs\_mountpoint@{get\_fs\_mountpoint}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{get\_fs\_mountpoint()}{get\_fs\_mountpoint()}}
{\footnotesize\ttfamily char $\ast$$\ast$ get\+\_\+fs\+\_\+mountpoint (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the filesystems mountpoint. 

\begin{DoxyReturn}{Returns}
char$\ast$$\ast$ strings array with mountpoints 
\end{DoxyReturn}
\mbox{\Hypertarget{motd_8h_aa4284d4514b961f23aa35da9b8eaee2c}\label{motd_8h_aa4284d4514b961f23aa35da9b8eaee2c}} 
\index{motd.h@{motd.h}!get\_pkgs\_num@{get\_pkgs\_num}}
\index{get\_pkgs\_num@{get\_pkgs\_num}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{get\_pkgs\_num()}{get\_pkgs\_num()}}
{\footnotesize\ttfamily int get\+\_\+pkgs\+\_\+num (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the pkgs num using alpm library. 

\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\mbox{\Hypertarget{motd_8h_a2d91e0c6022ba9f3464fb0eed39cb3fb}\label{motd_8h_a2d91e0c6022ba9f3464fb0eed39cb3fb}} 
\index{motd.h@{motd.h}!goodbye@{goodbye}}
\index{goodbye@{goodbye}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{goodbye()}{goodbye()}}
{\footnotesize\ttfamily void goodbye (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



goodbye message\+: wiki remainder + random quote from fortune 

\mbox{\Hypertarget{motd_8h_a979e020415f037fa346b2373956ea5b9}\label{motd_8h_a979e020415f037fa346b2373956ea5b9}} 
\index{motd.h@{motd.h}!greeting@{greeting}}
\index{greeting@{greeting}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{greeting()}{greeting()}}
{\footnotesize\ttfamily void greeting (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



prints the datetime and greeting message 

\mbox{\Hypertarget{motd_8h_af3ec3eb6fda5a37e633f809889e2305f}\label{motd_8h_af3ec3eb6fda5a37e633f809889e2305f}} 
\index{motd.h@{motd.h}!pipe\_of@{pipe\_of}}
\index{pipe\_of@{pipe\_of}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{pipe\_of()}{pipe\_of()}}
{\footnotesize\ttfamily char $\ast$ pipe\+\_\+of (\begin{DoxyParamCaption}\item[{const char}]{op1\mbox{[}$\,$\mbox{]},  }\item[{const char}]{op2\mbox{[}$\,$\mbox{]},  }\item[{int}]{buffer\+\_\+size }\end{DoxyParamCaption})}



emulates the UNIX pipe redirecting the op1 stdout to op2 stdin 


\begin{DoxyParams}{Parameters}
{\em op1} & first command \\
\hline
{\em op2} & second command \\
\hline
{\em buffer\+\_\+size} & size of the output buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char$\ast$ buffer with op2 output 
\end{DoxyReturn}
\mbox{\Hypertarget{motd_8h_ad89709f060162dc3cd7794569b793abb}\label{motd_8h_ad89709f060162dc3cd7794569b793abb}} 
\index{motd.h@{motd.h}!printfs@{printfs}}
\index{printfs@{printfs}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{printfs()}{printfs()}}
{\footnotesize\ttfamily void printfs (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{\mbox{\hyperlink{structfsinfo}{fsinfo}}}]{fs }\end{DoxyParamCaption})}



Helps printing filesystem usage. 


\begin{DoxyParams}{Parameters}
{\em name} & of the partition (it\textquotesingle{}s typically the mountpoint) \\
\hline
{\em fs} & struct with filesystem informations \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{motd_8h_a5ec1f3f552240b1d2b7da61d5a04beab}\label{motd_8h_a5ec1f3f552240b1d2b7da61d5a04beab}} 
\index{motd.h@{motd.h}!strsplit@{strsplit}}
\index{strsplit@{strsplit}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{strsplit()}{strsplit()}}
{\footnotesize\ttfamily void strsplit (\begin{DoxyParamCaption}\item[{char $\ast$}]{str,  }\item[{char $\ast$}]{str\+\_\+arr\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



split the given string into substrings (using space as delimiter) 


\begin{DoxyParams}{Parameters}
{\em str} & phrase string \\
\hline
{\em str\+\_\+arr} & result strings array \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{motd_8h_a08dfaf5258f562e0cb83bff43062f0c8}\label{motd_8h_a08dfaf5258f562e0cb83bff43062f0c8}} 
\index{motd.h@{motd.h}!sysinfo@{sysinfo}}
\index{sysinfo@{sysinfo}!motd.h@{motd.h}}
\doxysubsubsection{\texorpdfstring{sysinfo()}{sysinfo()}}
{\footnotesize\ttfamily void sysinfo (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



prints system informations\+: kernel, distro, packages number 

